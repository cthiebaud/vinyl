<link rel="stylesheet" href="/vinyl/vidstack.css">
<header>
  <div class="navbar shadow-sm fixed-bottom">
    <div class="container d-flex justify-content-around">

      <a id="vinyl_brand" class="navbar-brand d-flex align-items-center" title="Title">
        <img id="vinyl_brand_svg" src="/vinyl/svgos/vinyl_icon.svg" title="Logo">
      </a>

      <div id="playlist_switch" class="btn-group btn-group-sm" role="group" >
        <button id="resetCursor" class="btn btn-sm" style="padding-right: 0;">&lt;&lt;</button>
        <button id="prevCursor" class="btn btn-sm">&lt;</button>
        <div id="cursor">&nbsp;</div>
        <button id="nextCursor" class="btn btn-sm">&gt;</button>
      </div>

      <div id="sort_button" class="input-group input-group-sm dropup" style="width: unset;">
        <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Dropdown</button>
        <ul class="dropdown-menu">
          <li><a id="chronological" class="dropdown-item" href="#">chronological</a></li>
          <li><a id="alphabetical" class="dropdown-item" href="#">alphabetical</a></li>
          <li><a id="duration" class="dropdown-item" href="#">duration</a></li>
          <li>
            <hr class="dropdown-divider">
          </li>
          <li><a id="random" class="dropdown-item" href="#">random</a></li>
        </ul>
        <input type="checkbox" class="btn-check btn-sm btn-outline-secondary" id="btn-inverse" autocomplete="off" checked>
        <label id="sort-direction" class="btn btn-outline-secondary" for="btn-inverse" style="font-size: 24px; width: 32px;"></label>
      </div>

    </div>
  </div>
</header>

<main>

  <div class="album py-3">
    <div class="container">
      <div id="songs" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-xl-4 g-3">
      </div>
    </div>
  </div>

</main>

<footer class="text-muted py-3">
  <div class="container d-flex flex-row-reverse align-items-center">
    <a id="github" type="button" class="btn btn-sm btn-outline-light" href="#" target="_github" aria-label="github">
      <svg width="16" height="16" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" style="vertical-align: text-bottom;">
        <path fill-rule="evenodd" stroke="none" clip-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8C0 11.54 2.29 14.53 5.47 15.59C5.87 15.66 6.02 15.42 6.02 15.21C6.02 15.02 6.01 14.39 6.01 13.72C4 14.09 3.48 13.23 3.32 12.78C3.23 12.55 2.84 11.84 2.5 11.65C2.22 11.5 1.82 11.13 2.49 11.12C3.12 11.11 3.57 11.7 3.72 11.94C4.44 13.15 5.59 12.81 6.05 12.6C6.12 12.08 6.33 11.73 6.56 11.53C4.78 11.33 2.92 10.64 2.92 7.58C2.92 6.71 3.23 5.99 3.74 5.43C3.66 5.23 3.38 4.41 3.82 3.31C3.82 3.31 4.49 3.1 6.02 4.13C6.66 3.95 7.34 3.86 8.02 3.86C8.7 3.86 9.38 3.95 10.02 4.13C11.55 3.09 12.22 3.31 12.22 3.31C12.66 4.41 12.38 5.23 12.3 5.43C12.81 5.99 13.12 6.7 13.12 7.58C13.12 10.65 11.25 11.33 9.47 11.53C9.76 11.78 10.01 12.26 10.01 13.01C10.01 14.08 10 14.94 10 15.21C10 15.42 10.15 15.67 10.55 15.59C13.71 14.53 16 11.53 16 8C16 3.58 12.42 0 8 0Z"
          transform="scale(64)" />
      </svg>
    </a>
    <p id="copyright" class="m-0"></p>
    <div class="p-2">[<span id="totalDuration"></span>]</div>
  </div>
</footer>

<script id="video-template" type="text/x-handlebars-template">
  <!-- div id="yt-widget" class="widgette" data-plyr-provider="youtube" data-plyr-embed-id="{{id}}"></!-->
<media-player class="widgette" autoplay src="youtube/{{id}}" playsinline="true">
  <media-provider></media-provider>
  <media-video-layout></media-video-layout>
  <!-- Controls -->
  <media-controls>
    <div class="media-controls-spacer"></div>
    <media-controls-group>
      <!-- Time Slider -->
      <media-time-slider class="media-slider">
        <media-slider-chapters>
          <template>
            <div class="media-slider-chapter">
              <div class="media-slider-track"></div>
              <div class="media-slider-track-fill media-slider-track"></div>
              <div class="media-slider-progress media-slider-track"></div>
            </div>
          </template>
        </media-slider-chapters>
        <div class="media-slider-thumb"></div>
        <media-slider-preview>
          <media-slider-thumbnail src="https://image.mux.com/VZtzUzGRv02OhRnZCxcNg49OilvolTqdnFLEqBsTwaxU/storyboard.vtt"></media-slider-thumbnail>
          <div data-part="chapter-title"></div>
          <media-slider-value></media-slider-value>
        </media-slider-preview>
      </media-time-slider>
    </media-controls-group>

    <media-controls-group>
      <!-- Play Button -->
      <media-tooltip>
        <media-tooltip-trigger>
          <media-play-button class="media-button">
            <media-icon class="media-play-icon" type="play"></media-icon>
            <media-icon class="media-pause-icon" type="pause"></media-icon>
          </media-play-button>
        </media-tooltip-trigger>
        <media-tooltip-content class="media-tooltip" placement="top">
          <span class="media-play-tooltip-text">Play</span>
          <span class="media-pause-tooltip-text">Pause</span>
        </media-tooltip-content>
      </media-tooltip>

      <!-- Mute Button -->
      <media-tooltip>
        <media-tooltip-trigger>
          <media-mute-button class="media-button">
            <media-icon class="media-mute-icon" type="mute"></media-icon>
            <media-icon class="media-volume-low-icon" type="volume-low"></media-icon>
            <media-icon class="media-volume-high-icon" type="volume-high"></media-icon>
          </media-mute-button>
        </media-tooltip-trigger>
        <media-tooltip-content class="media-tooltip" placement="top">
          <span class="media-mute-tooltip-text">Unmute</span>
          <span class="media-unmute-tooltip-text">Mute</span>
        </media-tooltip-content>
      </media-tooltip>

      <!-- Volume Slider -->
      <media-volume-slider class="media-slider">
        <div class="media-slider-track"></div>
        <div class="media-slider-track-fill media-slider-track"></div>
        <div class="media-slider-thumb"></div>
        <media-slider-preview no-clamp>
          <media-slider-value></media-slider-value>
        </media-slider-preview>
      </media-volume-slider>

      <!-- Time Group -->
      <div class="media-time-group">
        <media-time type="current"></media-time>
        <div class="media-time-divider">/</div>
        <media-time type="duration"></media-time>
      </div>

      <!--
          <media-chapter-title></media-chapter-title>
        -->

      <div class="media-controls-spacer"></div>

      <!-- Caption Button 
          <media-tooltip>
            <media-tooltip-trigger>
              <media-caption-button class="media-button">
                <media-icon class="media-cc-on-icon" type="closed-captions-on"></media-icon>
                <media-icon class="media-cc-off-icon" type="closed-captions"></media-icon>
              </media-caption-button>
            </media-tooltip-trigger>
            <media-tooltip-content class="media-tooltip" placement="top">
              <span class="media-cc-on-tooltip-text">Closed-Captions Off</span>
              <span class="media-cc-off-tooltip-text">Closed-Captions On</span>
            </media-tooltip-content>
          </media-tooltip>
        -->

      <!-- Settings Menu 
          <media-menu>
            < ! - - Settings Menu Button - - >
            <media-tooltip>
              <media-tooltip-trigger>
                <media-menu-button class="media-menu-button media-button">
                  <media-icon class="media-rotate-icon" type="settings"></media-icon>
                </media-menu-button>
              </media-tooltip-trigger>
              <media-tooltip-content class="media-tooltip" placement="top">
                Settings
              </media-tooltip-content>
            </media-tooltip>
            < ! - - Settings Menu Items - - >
            <media-menu-items placement="top end">
              < ! - - Caption Submenu - - >
              <media-menu>
                < ! - - Caption Submenu Button - - >
                <media-menu-button class="media-menu-button">
                  <media-icon class="media-menu-button-close-icon" type="chevron-left"></media-icon>
                  <media-icon class="media-menu-button-icon" type="closed-captions"></media-icon>
                  <span class="media-menu-button-label">Captions</span>
                  <span class="media-menu-button-hint" data-part="hint"></span>
                  <media-icon class="media-menu-button-open-icon" type="chevron-right"></media-icon>
                </media-menu-button>
                < ! - - Caption Submenu Items - - >
                <media-menu-items>
                  <media-captions-radio-group class="media-radio-group">
                    <template>
                      <media-radio>
                        <div class="media-radio-check"></div>
                        <span class="media-radio-label" data-part="label"></span>
                      </media-radio>
                    </template>
                  </media-captions-radio-group>
                </media-menu-items>
              </media-menu>
            </media-menu-items>
          </media-menu>
        -->

      <!-- PIP Button 
          <media-tooltip>
            <media-tooltip-trigger>
              <media-pip-button class="media-button">
                <media-icon class="media-pip-enter-icon" type="picture-in-picture"></media-icon>
                <media-icon class="media-pip-exit-icon" type="picture-in-picture-exit"></media-icon>
              </media-pip-button>
            </media-tooltip-trigger>
            <media-tooltip-content class="media-tooltip" placement="top">
              <span class="media-pip-enter-tooltip-text">Enter PIP</span>
              <span class="media-pip-exit-tooltip-text">Exit PIP</span>
            </media-tooltip-content>
          </media-tooltip>
        -->

      <!-- Fullscreen Button -->
      <media-tooltip>
        <media-tooltip-trigger>
          <media-fullscreen-button class="media-button">
            <media-icon class="media-fs-enter-icon" type="fullscreen"></media-icon>
            <media-icon class="media-fs-exit-icon" type="fullscreen-exit"></media-icon>
          </media-fullscreen-button>
        </media-tooltip-trigger>
        <media-tooltip-content class="media-tooltip" placement="top end">
          <span class="media-fs-enter-tooltip-text">Enter Fullscreen</span>
          <span class="media-fs-exit-tooltip-text">Exit Fullscreen</span>
        </media-tooltip-content>
      </media-tooltip>
    </media-controls-group>
  </media-controls>
</media-player>
</script>

<script id="sound-template" type="text/x-handlebars-template">
  <iframe 
    id="sc-widget" 
    class="widgette" 
    allow="autoplay" 
    src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/{{id}}&auto_play=true&buying=false&liking=true&download=false&sharing=false&show_artwork=true&show_comments=false&show_playcount=false&show_user=true&hide_related=true&visual=true&callback=true">
  </iframe>
</script>

<script id="markdown-template" type="text/x-handlebars-template">
  <iframe 
    id="tx-widget" 
    class="widgette" 
    src="/vinyl/showdown_dark.html?/texts/{{id}}.md">
  </iframe>
</script>

<script id="url-template" type="text/x-handlebars-template">
  <iframe 
    id="bs-widget" 
    class="widgette" 
    src="{{id}}">
  </iframe>
</script>

<script id="instagram-template" type="text/x-handlebars-template">
  <iframe 
    id="insta-widget" 
    class="widgette" 
    src="/vinyl/showdown.html?/instagrams/{{id}}.md">
  </iframe>
</script>

<script id="score-template" type="text/x-handlebars-template">
  <iframe 
    id="score-widget" 
    class="widgette" 
    src="/scores/{{id}}.pdf">
  </iframe>
</script>

<script id="song-template" type="text/x-handlebars-template">
  <div id="{{key}}_" class="col" style="opacity: 0.0;" data-date="{{date}}">
    <div id="{{key}}" class="card shadow-sm" style="position: relative;">
      <img class="img-fluid" src="./covers/{{cover}}" alt="">

      <div id="card-body-{{key}}" class="card-body">
        <div class="card-text" style="display: flex; margin-bottom:.5rem;">
          <span style="flex-grow: 1;">
            <span>{{text}}</span>
          </span>
        </div>
        <div id="card-legend-{{key}}" class="d-flex card-legend flex-wrap justify-content-around align-items-end" style="vertical-align: middle; max-width: 100%; overflow:hidden;">
          <div id="card-buttons-{{key}}" class="btn-group" >
            {{#each media}}
            <a type="button" id="{{buttonId}}" title="{{title}}" class="{{type}} btn btn-sm btn-outline-secondary" data-id="{{id}}" data-type="{{type}}" data-label="{{label}}">
              {{label}}
            </a>
            {{/each}}
          </div>
          <div class="text-muted" style="text-align: right; text-align: center;">
            <span>{{duration}}</span>
            {{#if date}}
            <br/><span class="text-muted" style="white-space: nowrap;">{{date}}</span>
            {{/if}}
          </div>
          <div>
            <a type="button" style="height: 31px;" class="btn btn-sm btn-outline-secondary" href="{{media.0.url}}" target="_{{key}}">
              {{#if isVideo}}<span>
                  <img style="height:67%; filter: brightness(3.2) grayscale(.925); width: auto; vertical-align: text-bottom;" src="/vinyl/svgos/youtube2.svg">
              {{else if isSound}}<span>
                  <img style="height:67%; filter: brightness(1.5) grayscale(.925); width: auto; vertical-align: text-bottom;" src="/vinyl/svgos/soundcloud-logo2.svg">
              {{/if}}
              </span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</script>