<link rel="stylesheet" href="/vinyl/vidstack.css">
<header>
  <div class="collapse" id="navbarHeader">
    <!-- do not remove -->
  </div>
  <div class="navbar shadow-sm">
    <div class="container">
      <!-- 
      <a id="vinyl_share" class="btn myButton" type="button" href="#" target="_facebook" title="Share on Facebook ...">
        <img src="/vinyl/svgos2/share-android-svgrepo-com.svg" style="width:30px; height: 30px;">
      </a>
      
      <button class="navbar-toggler collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#navbarHeader" aria-controls="navbarHeader" aria-expanded="false"
      aria-label="Toggle navigation" title="Display Info">
      <span class="navbar-toggler-icon"></span>
    </button>
    -->

      <a id="vinyl_brand" class="navbar-brand d-flex align-items-center" title="Title">
        <img id="vinyl_brand_svg" src="/vinyl/svgos/vinyl_icon.svg" title="Logo">
      </a>

      <div id="sort_button" class="input-group input-group-sm" style="width: unset;">
        <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Dropdown</button>
        <ul class="dropdown-menu">
          <li><a id="chronological" class="dropdown-item" href="#">chronological</a></li>
          <li><a id="alphabetical" class="dropdown-item" href="#">alphabetical</a></li>
          <li><a id="duration" class="dropdown-item" href="#">duration</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a id="random" class="dropdown-item" href="#">random</a></li>
        </ul>
        <input type="checkbox" class="btn-check btn-outline-secondary" id="btn-check" autocomplete="off">
        <label id="sort-direction" class="btn btn-outline-secondary" for="btn-check" style="font-size: 24px;"></label>
      </div>

    </div>
  </div>
</header>

<main>

  <div class="album py-5">
    <div class="container">
      <div id="songs" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-xl-4 g-3">
      </div>
    </div>
  </div>

</main>

<footer class="text-muted py-3">
  <div class="container">
    <p id="copyright" class="float-end mb-1 font-monospace"></p>
  </div>
</footer>

<script id="vid-template" type="text/x-handlebars-template">
  <!-- div id="yt-widget" class="widgette" data-plyr-provider="youtube" data-plyr-embed-id="{{id}}"></!-->
  <media-player class="widgette" autoplay src="youtube/{{id}}" playsinline="true">
    <media-provider></media-provider>
    <media-video-layout></media-video-layout>
    <!-- Controls -->
    <media-controls>
      <div class="media-controls-spacer"></div>
      <media-controls-group>
        <!-- Time Slider -->
        <media-time-slider class="media-slider">
          <media-slider-chapters>
            <template>
              <div class="media-slider-chapter">
                <div class="media-slider-track"></div>
                <div class="media-slider-track-fill media-slider-track"></div>
                <div class="media-slider-progress media-slider-track"></div>
              </div>
            </template>
          </media-slider-chapters>
          <div class="media-slider-thumb"></div>
          <media-slider-preview>
            <media-slider-thumbnail src="https://image.mux.com/VZtzUzGRv02OhRnZCxcNg49OilvolTqdnFLEqBsTwaxU/storyboard.vtt"></media-slider-thumbnail>
            <div data-part="chapter-title"></div>
            <media-slider-value></media-slider-value>
          </media-slider-preview>
        </media-time-slider>
      </media-controls-group>

      <media-controls-group>
        <!-- Play Button -->
        <media-tooltip>
          <media-tooltip-trigger>
            <media-play-button class="media-button">
              <media-icon class="media-play-icon" type="play"></media-icon>
              <media-icon class="media-pause-icon" type="pause"></media-icon>
            </media-play-button>
          </media-tooltip-trigger>
          <media-tooltip-content class="media-tooltip" placement="top">
            <span class="media-play-tooltip-text">Play</span>
            <span class="media-pause-tooltip-text">Pause</span>
          </media-tooltip-content>
        </media-tooltip>

        <!-- Mute Button -->
        <media-tooltip>
          <media-tooltip-trigger>
            <media-mute-button class="media-button">
              <media-icon class="media-mute-icon" type="mute"></media-icon>
              <media-icon class="media-volume-low-icon" type="volume-low"></media-icon>
              <media-icon class="media-volume-high-icon" type="volume-high"></media-icon>
            </media-mute-button>
          </media-tooltip-trigger>
          <media-tooltip-content class="media-tooltip" placement="top">
            <span class="media-mute-tooltip-text">Unmute</span>
            <span class="media-unmute-tooltip-text">Mute</span>
          </media-tooltip-content>
        </media-tooltip>

        <!-- Volume Slider -->
        <media-volume-slider class="media-slider">
          <div class="media-slider-track"></div>
          <div class="media-slider-track-fill media-slider-track"></div>
          <div class="media-slider-thumb"></div>
          <media-slider-preview no-clamp>
            <media-slider-value></media-slider-value>
          </media-slider-preview>
        </media-volume-slider>

        <!-- Time Group -->
        <div class="media-time-group">
          <media-time type="current"></media-time>
          <div class="media-time-divider">/</div>
          <media-time type="duration"></media-time>
        </div>

        <!--
          <media-chapter-title></media-chapter-title>
        -->

        <div class="media-controls-spacer"></div>

        <!-- Caption Button 
          <media-tooltip>
            <media-tooltip-trigger>
              <media-caption-button class="media-button">
                <media-icon class="media-cc-on-icon" type="closed-captions-on"></media-icon>
                <media-icon class="media-cc-off-icon" type="closed-captions"></media-icon>
              </media-caption-button>
            </media-tooltip-trigger>
            <media-tooltip-content class="media-tooltip" placement="top">
              <span class="media-cc-on-tooltip-text">Closed-Captions Off</span>
              <span class="media-cc-off-tooltip-text">Closed-Captions On</span>
            </media-tooltip-content>
          </media-tooltip>
        -->

        <!-- Settings Menu 
          <media-menu>
            < ! - - Settings Menu Button - - >
            <media-tooltip>
              <media-tooltip-trigger>
                <media-menu-button class="media-menu-button media-button">
                  <media-icon class="media-rotate-icon" type="settings"></media-icon>
                </media-menu-button>
              </media-tooltip-trigger>
              <media-tooltip-content class="media-tooltip" placement="top">
                Settings
              </media-tooltip-content>
            </media-tooltip>
            < ! - - Settings Menu Items - - >
            <media-menu-items placement="top end">
              < ! - - Caption Submenu - - >
              <media-menu>
                < ! - - Caption Submenu Button - - >
                <media-menu-button class="media-menu-button">
                  <media-icon class="media-menu-button-close-icon" type="chevron-left"></media-icon>
                  <media-icon class="media-menu-button-icon" type="closed-captions"></media-icon>
                  <span class="media-menu-button-label">Captions</span>
                  <span class="media-menu-button-hint" data-part="hint"></span>
                  <media-icon class="media-menu-button-open-icon" type="chevron-right"></media-icon>
                </media-menu-button>
                < ! - - Caption Submenu Items - - >
                <media-menu-items>
                  <media-captions-radio-group class="media-radio-group">
                    <template>
                      <media-radio>
                        <div class="media-radio-check"></div>
                        <span class="media-radio-label" data-part="label"></span>
                      </media-radio>
                    </template>
                  </media-captions-radio-group>
                </media-menu-items>
              </media-menu>
            </media-menu-items>
          </media-menu>
        -->

        <!-- PIP Button 
          <media-tooltip>
            <media-tooltip-trigger>
              <media-pip-button class="media-button">
                <media-icon class="media-pip-enter-icon" type="picture-in-picture"></media-icon>
                <media-icon class="media-pip-exit-icon" type="picture-in-picture-exit"></media-icon>
              </media-pip-button>
            </media-tooltip-trigger>
            <media-tooltip-content class="media-tooltip" placement="top">
              <span class="media-pip-enter-tooltip-text">Enter PIP</span>
              <span class="media-pip-exit-tooltip-text">Exit PIP</span>
            </media-tooltip-content>
          </media-tooltip>
        -->

        <!-- Fullscreen Button -->
        <media-tooltip>
          <media-tooltip-trigger>
            <media-fullscreen-button class="media-button">
              <media-icon class="media-fs-enter-icon" type="fullscreen"></media-icon>
              <media-icon class="media-fs-exit-icon" type="fullscreen-exit"></media-icon>
            </media-fullscreen-button>
          </media-tooltip-trigger>
          <media-tooltip-content class="media-tooltip" placement="top end">
            <span class="media-fs-enter-tooltip-text">Enter Fullscreen</span>
            <span class="media-fs-exit-tooltip-text">Exit Fullscreen</span>
          </media-tooltip-content>
        </media-tooltip>
      </media-controls-group>
    </media-controls>
  </media-player>
</script>

<script id="sound-template" type="text/x-handlebars-template">
  <iframe 
    id="sc-widget" 
    class="widgette" 
    allow="autoplay" 
    src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/{{id}}&auto_play=true&buying=false&liking=true&download=false&sharing=false&show_artwork=true&show_comments=false&show_playcount=false&show_user=true&hide_related=true&visual=true&callback=true">
  </iframe>
</script>

<script id="markdown-template" type="text/x-handlebars-template">
  <iframe 
    id="tx-widget" 
    class="widgette" 
    src="/vinyl/showdown_dark.html?/texts/{{id}}.md">
  </iframe>
</script>

<script id="url-template" type="text/x-handlebars-template">
  <iframe 
    id="bs-widget" 
    class="widgette" 
    src="{{id}}">
  </iframe>
</script>

<script id="instagram-template" type="text/x-handlebars-template">
  <iframe 
    id="insta-widget" 
    class="widgette" 
    src="/vinyl/showdown.html?/instagrams/{{id}}.md">
  </iframe>
</script>

<script id="score-template" type="text/x-handlebars-template">
  <iframe 
    id="score-widget" 
    class="widgette" 
    src="/scores/{{id}}.pdf">
  </iframe>
</script>

<script id="song-template" type="text/x-handlebars-template">
  <div id="{{key}}_" class="col" style="opacity: 0.0;" data-date="{{val.date}}">
    <div id="{{key}}" class="card shadow-sm" style="position: relative;">
      <img class="img-fluid" src="./{{covers}}/{{cover}}" data-url="{{val.link}}" alt="">

      <div id="card-body-{{key}}" class="card-body">
        <div class="card-text" style="display: flex; margin-bottom:.5rem;">
          <span style="flex-grow: 1;">
            <span>{{val.text}}</span>
          </span>
        </div>
        <div id="card-legend-{{key}}" class="d-flex card-legend flex-wrap justify-content-around align-items-end" style="vertical-align: middle; max-width: 100%; overflow:hidden;">
          <div id="card-buttons-{{key}}" class="btn-group" >
            {{#each val.watch}}
            <a type="button" id="watch_{{id}}" title="{{title}}" class="vid btn btn-sm btn-outline-secondary font-monospace" data-id="{{id}}" data-text="watch">watch
            </a>
            {{/each}}
            {{#each val.listen}}
            <a type="button" id="listen_{{id}}" title="{{title}}" class="sound btn btn-sm btn-outline-secondary font-monospace" data-id="{{id}}" data-text="listen">listen
            </a>
            {{/each}}
            {{#if val.markdown}}
            <a type="button" id="read_{{key}}" class="markdown btn btn-sm btn-outline-secondary font-monospace" data-id="{{key}}" data-text="read">read
            </a>
            {{/if}}
            {{#if val.url}}
            <a type="button" id="url{{key}}" class="url btn btn-sm btn-outline-secondary font-monospace" data-id="{{val.url}}" data-text="mise en abyme">mise en abyme</a>
            {{/if}}
            {{#if val.instagram}}
            <a type="button" id="url{{key}}" class="instagram btn btn-sm btn-outline-secondary font-monospace" data-id="{{key}}" data-text="insta">insta</a>
            {{/if}}
            {{#if val.score}}
            <a type="button" id="score_{{key}}" class="score btn btn-sm btn-outline-secondary font-monospace" data-id="{{isNotBoolean: val.score val.score key}}" data-text="score">score</a>
            {{/if}}
          </div>
          <div class="text-muted font-monospace" style="text-align: right;font-size: smaller; text-align: center;">
            <span>{{{val.duration}}}</span>
            {{#if val.date}}
            <br/><span class="text-muted font-monospace" style="white-space: nowrap;">{{{val.date}}}</span>
            {{/if}}
          </div>
          <div>
            {{#if val.watch.0.url}}<span>
              <a type="button" style="height: 31px;" class="btn btn-sm btn-outline-secondary" href="{{val.watch.0.url}}" target="_{{key}}">
                <img style="height:67%; filter: brightness(3.2) grayscale(.925); width: auto; vertical-align: text-bottom;" src="/vinyl/svgos/youtube2.svg">
              </a>
              </span>
            {{else if val.listen.0.url}}<span>
              <a type="button" style="height: 31px;" class="btn btn-sm btn-outline-secondary" href="{{val.listen.0.url}}" target="_{{key}}">
                <img style="height:67%; filter: brightness(1.5) grayscale(.925); width: auto; vertical-align: text-bottom;" src="/vinyl/svgos/soundcloud-logo2.svg">
              </a>
              </span>
            {{/if}}
            </div>
        </div>
      </div>
    </div>
  </div>
</script>